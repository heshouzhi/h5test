/*! For license information please see 8.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"112":function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var r=function createCommonjsModule(t,e,s){return t(s={"path":e,"exports":{},"require":function(t,e){return function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},s.exports),s.exports}((function(t){!function(){var e={}.hasOwnProperty;function classNames(){for(var t=[],s=0;s<arguments.length;s++){var r=arguments[s];if(r){var n=typeof r;if("string"===n||"number"===n)t.push(r);else if(Array.isArray(r)){if(r.length){var i=classNames.apply(null,r);i&&t.push(i)}}else if("object"===n)if(r.toString===Object.prototype.toString)for(var o in r)e.call(r,o)&&r[o]&&t.push(o);else t.push(r.toString())}}return t.join(" ")}t.exports?(classNames.default=classNames,t.exports=classNames):window.classNames=classNames}()}))},"99":function(t,e,s){"use strict";s.r(e),s.d(e,"taro_pull_to_refresh",(function(){return l}));var r=s(34),n=s(112);const i=s(17);function setTransform(t,e){t.transform=e,t.webkitTransform=e,t.MozTransform=e}const o="undefined"!=typeof navigator&&/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),a={"activate":"release","deactivate":"pull","release":"loading","finish":"finish"};let c=!1;try{const t=Object.defineProperty({},"passive",{"get"(){c=!0}});window.addEventListener("cancel",()=>({}),t)}catch(t){}const h=!!c&&{"passive":!1},l=class{"constructor"(t){Object(r.g)(this,t),this.onRefresh=Object(r.c)(this,"refresh",7),this.prefixCls="rmc-pull-to-refresh",this.distanceToRefresh=50,this.damping=100,this.indicator=a,this.currSt="deactivate",this.dragOnEdge=!1,this._ScreenY=0,this._startScreenY=0,this._lastScreenY=0,this._isMounted=!1,this.triggerPullDownRefresh=t=>{!this.dragOnEdge&&this._isMounted&&(t?(this._lastScreenY=this.distanceToRefresh+1,this.currSt="release",this.setContentStyle(this._lastScreenY)):(this.currSt="finish",this.reset()))},this.init=()=>{const t=this.scrollContainer;this._to={"touchstart":this.onTouchStart.bind(this,t),"touchmove":this.onTouchMove.bind(this,t),"touchend":this.onTouchEnd.bind(this,t),"touchcancel":this.onTouchEnd.bind(this,t)},Object.keys(this._to).forEach(e=>{t.addEventListener(e,this._to[e],h)})},this.destroy=()=>{const t=this.scrollContainer;Object.keys(this._to).forEach(e=>{t.removeEventListener(e,this._to[e])})},this.onTouchStart=(t,e)=>{this._ScreenY=this._startScreenY=e.touches[0].screenY,this._lastScreenY=this._lastScreenY||0},this.isEdge=t=>{const e=this.scrollContainer;if(e&&e===document.body){return(document.scrollingElement?document.scrollingElement:document.body).scrollTop<=0}return t.scrollTop<=0},this.damp=t=>{if(Math.abs(this._lastScreenY)>this.damping)return 0;return t*=.6*(1-Math.abs(this._ScreenY-this._startScreenY)/window.screen.height)},this.onTouchMove=(t,e)=>{const s=e.touches[0].screenY;if(!(this._startScreenY>s)&&this.isEdge(t)){this.dragOnEdge||(this._ScreenY=this._startScreenY=e.touches[0].screenY,this.dragOnEdge=!0),e.cancelable&&e.preventDefault();const t=Math.round(s-this._ScreenY);this._ScreenY=s,this._lastScreenY+=this.damp(t),this.setContentStyle(this._lastScreenY),Math.abs(this._lastScreenY)<this.distanceToRefresh?"deactivate"!==this.currSt&&(this.currSt="deactivate"):"deactivate"===this.currSt&&(this.currSt="activate"),o&&e.changedTouches[0].clientY<0&&this.onTouchEnd()}},this.onTouchEnd=()=>{this.dragOnEdge&&(this.dragOnEdge=!1),"activate"===this.currSt?(this.currSt="release",this.onRefresh.emit(this),this._lastScreenY=this.distanceToRefresh+1,this.setContentStyle(this._lastScreenY)):"release"===this.currSt?(this._lastScreenY=this.distanceToRefresh+1,this.setContentStyle(this._lastScreenY)):this.reset()},this.reset=()=>{this._lastScreenY=0,this.setContentStyle(0)},this.setContentStyle=t=>{this.contentRef&&setTransform(this.contentRef.style,t?`translate3d(0px,${t}px,0)`:"")}}get"scrollContainer"(){return null===document.querySelector(".taro-tabbar__tabbar")?window:document.querySelector(".taro-tabbar__panel")||window}"statusChange"(){if("release"===this.currSt){const t=this.el.closest(".taro_page");t&&t.__page&&t.__page.onPullDownRefresh()}}"disconnectedCallback"(){this.destroy()}"componentDidLoad"(){this.init(),this._isMounted=!0,i.eventCenter.on("__taroStartPullDownRefresh",({"successHandler":t,"errorHandler":e})=>{try{this.triggerPullDownRefresh(!0),t({"errMsg":"startPullDownRefresh: ok"})}catch(t){e({"errMsg":"startPullDownRefresh: fail"})}}),i.eventCenter.on("__taroStopPullDownRefresh",({"successHandler":t,"errorHandler":e})=>{try{this.triggerPullDownRefresh(!1),t({"errMsg":"stopPullDownRefresh: ok"})}catch(t){e({"errMsg":"stopPullDownRefresh: fail"})}})}"render"(){const renderRefresh=t=>{const{"currSt":e,"dragOnEdge":s,"prefixCls":i}=this,o=Object(n.a)(t,!s&&i+"-transition"),a="activate"===e||"release"===e;return Object(r.e)("div",{"class":i+"-content-wrapper"},Object(r.e)("div",{"class":o,"ref":t=>{this.contentRef=t}},a&&Object(r.e)("div",{"class":i+"-indicator"},Object(r.e)("div",null),Object(r.e)("div",null),Object(r.e)("div",null)),Object(r.e)("slot",null)))};return this.scrollContainer?renderRefresh(`${this.prefixCls}-content ${this.prefixCls}-down`):Object(r.e)(r.a,{"class":Object(n.a)(this.prefixCls,this.prefixCls+"-down")},renderRefresh(this.prefixCls+"-content"))}get"el"(){return Object(r.d)(this)}static get"watchers"(){return{"currSt":["statusChange"]}}};l.style=".rmc-pull-to-refresh-content{transform-origin:left top 0px}.rmc-pull-to-refresh-content-wrapper{overflow:hidden}.rmc-pull-to-refresh-transition{transition:transform 0.3s}@keyframes rmc-pull-to-refresh-indicator{50%{opacity:0.2}100%{opacity:1}}.rmc-pull-to-refresh-indicator{text-align:center;height:30px;line-height:10px}.rmc-pull-to-refresh-indicator>div{background-color:grey;width:6px;height:6px;border-radius:100%;margin:3px;animation-fill-mode:both;display:inline-block;animation:rmc-pull-to-refresh-indicator 0.5s 0s infinite linear}.rmc-pull-to-refresh-indicator>div:nth-child(0){animation-delay:-0.1s !important}.rmc-pull-to-refresh-indicator>div:nth-child(1){animation-delay:-0.2s !important}.rmc-pull-to-refresh-indicator>div:nth-child(2){animation-delay:-0.3s !important}.rmc-pull-to-refresh-down .rmc-pull-to-refresh-indicator{margin-top:-25px}"}}]);