(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"89":function(t,e,n){"use strict";n.r(e),n.d(e,"taro_input_core",(function(){return o}));var i=n(34);function getTrueType(t,e,n){if(void 0===t)return"text";if(!t)throw new Error("unexpected type");return"search"===e&&(t="search"),n&&(t="password"),"digit"===t&&(t="number"),t}function fixControlledValue(t){return null!=t?t:""}const o=class{"constructor"(t){Object(i.g)(this,t),this.onInput=Object(i.c)(this,"input",7),this.onFocus=Object(i.c)(this,"focus",7),this.onBlur=Object(i.c)(this,"blur",7),this.onConfirm=Object(i.c)(this,"confirm",7),this.onChange=Object(i.c)(this,"change",7),this.onKeyDown=Object(i.c)(this,"keydown",7),this.isOnComposition=!1,this.onInputExcuted=!1,this.type=void 0,this.password=!1,this.disabled=!1,this.maxlength=140,this.autoFocus=!1,this.confirmType="done",this.handleInput=t=>{t.stopPropagation();const{"type":e,"maxlength":n,"confirmType":i,"password":o}=this;if(!this.isOnComposition&&!this.onInputExcuted){let s=t.target.value;const h=getTrueType(e,i,o);this.onInputExcuted=!0,"number"===h&&s&&n<=s.length&&(s=s.substring(0,n),t.target.value=s),this.onInput.emit({"value":s,"cursor":s.length})}},this.handleFocus=t=>{this.onInputExcuted=!1,this.onFocus.emit({"value":t.target.value})},this.handleBlur=t=>{this.onBlur.emit({"value":t.target.value})},this.handleChange=t=>{t.stopPropagation(),this.onChange.emit({"value":t.target.value})},this.handleKeyDown=t=>{const{"value":e}=t.target;this.onInputExcuted=!1,t.stopPropagation(),this.onKeyDown.emit({"value":e}),13===t.keyCode&&this.onConfirm.emit({"value":e})},this.handleComposition=t=>{t.target instanceof HTMLInputElement&&("compositionend"===t.type?(this.isOnComposition=!1,this.onInput.emit({"value":t.target.value})):this.isOnComposition=!0)}}"componentDidLoad"(){"file"===this.type?(this.fileListener=()=>{this.onInput.emit()},this.inputRef.addEventListener("change",this.fileListener)):(this.inputRef.addEventListener("compositionstart",this.handleComposition),this.inputRef.addEventListener("compositionend",this.handleComposition)),Object.defineProperty(this.el,"value",{"get":()=>this.inputRef.value,"set":t=>this.value=t,"configurable":!0})}"disconnectedCallback"(){"file"===this.type&&this.inputRef.removeEventListener("change",this.fileListener)}"render"(){const{"value":t,"type":e,"password":n,"placeholder":o,"disabled":s,"maxlength":h,"autoFocus":a,"confirmType":u,"name":r}=this;return Object(i.e)("input",{"ref":t=>{this.inputRef=t,a&&(null==t||t.focus())},"class":"weui-input","value":fixControlledValue(t),"type":getTrueType(e,u,n),"placeholder":o,"disabled":s,"maxlength":h,"autofocus":a,"name":r,"onInput":this.handleInput,"onFocus":this.handleFocus,"onBlur":this.handleBlur,"onChange":this.handleChange,"onKeyDown":this.handleKeyDown})}get"el"(){return Object(i.d)(this)}};o.style="taro-input-core{display:block}input{display:block;height:1.4rem;text-align:inherit;text-overflow:clip;overflow:hidden;white-space:nowrap}"}}]);