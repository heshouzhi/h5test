/*! For license information please see 11.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"106":function(t,e,a){"use strict";a.r(e),a.d(e,"taro_tabbar",(function(){return n}));var r=a(34),o=a(112);function isAbsolute(t){return"/"===t.charAt(0)}function spliceOne(t,e){for(var a=e,r=a+1,o=t.length;r<o;a+=1,r+=1)t[a]=t[r];t.pop()}const splitUrl=t=>{let e,a=t||"";const r={"path":null,"query":null,"fragment":null};return e=a.indexOf("#"),e>-1&&(r.fragment=a.substring(e+1),a=a.substring(0,e)),e=a.indexOf("?"),e>-1&&(r.query=a.substring(e+1),a=a.substring(0,e)),r.path=a,r},TabbarItem=({"index":t,"isSelected":e=!1,"textColor":a,"iconPath":s,"badgeText":n,"showRedDot":i=!1,"text":l,"onSelect":b})=>{const h=Object(o.a)("weui-tabbar__item",{"weui-bar__item_on":e});return Object(r.e)("a",{"key":t,"href":"javascript:;","class":h,"onClick":function onClick(){b(t)}},Object(r.e)("span",{"style":{"display":"inline-block","position":"relative"}},Object(r.e)("img",{"src":s,"alt":"","class":"weui-tabbar__icon"}),!!n&&Object(r.e)("span",{"class":"weui-badge taro-tabbar-badge","style":{"position":"absolute","top":"-2px","right":"-13px"}},n),i&&Object(r.e)("span",{"class":"weui-badge weui-badge_dot","style":{"position":"absolute","top":"0","right":"-6px"}})),Object(r.e)("p",{"class":"weui-tabbar__label","style":{"color":a}},l))},s=a(17),addLeadingSlash=t=>"/"===t[0]?t:"/"+t,stripBasename=(t,e)=>((t,e)=>new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t))(t,e)?t.substr(e.length):t,n=class{"constructor"(t){Object(r.g)(this,t),this.onLongPress=Object(r.c)(this,"longpress",7),this.homePage="",this.customRoutes=[],this.tabbarPos="bottom",this.selectedIndex=-1,this.status=0,this.getOriginUrl=t=>{const e=this.customRoutes.filter(([,e])=>splitUrl(e).path===splitUrl(t).path);return e.length?e[0][0]:t},this.getSelectedIndex=t=>{let e=-1;return this.list.forEach(({"pagePath":a},r)=>{splitUrl(t).path===splitUrl(a).path&&(e=r)}),e},this.switchTab=t=>{this.selectedIndex=t,s.navigateTo({"url":this.list[t].pagePath})},this.switchTabHandler=({"url":t,"successHandler":e,"errorHandler":a})=>{const r=function resolvePathname(t,e){void 0===e&&(e="");var a,r=t&&t.split("/")||[],o=e&&e.split("/")||[],s=t&&isAbsolute(t),n=e&&isAbsolute(e),i=s||n;if(t&&isAbsolute(t)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];a="."===l||".."===l||""===l}else a=!1;for(var b=0,h=o.length;h>=0;h--){var d=o[h];"."===d?spliceOne(o,h):".."===d?(spliceOne(o,h),b++):b&&(spliceOne(o,h),b--)}if(!i)for(;b--;b)o.unshift("..");!i||""===o[0]||o[0]&&isAbsolute(o[0])||o.unshift("");var c=o.join("/");return a&&"/"!==c.substr(-1)&&(c+="/"),c}(t,this.getOriginUrl(this.getCurrentUrl()||this.homePage)),o=this.getSelectedIndex(r);o>-1?(this.switchTab(o),e({"errMsg":"switchTab:ok"})):a({"errMsg":`switchTab:fail page "${r}" is not found`})},this.routerChangeHandler=t=>{let e,a;if(t&&(e=t.toLocation),e&&e.path){const t=addLeadingSlash(e.path);a="/"===t?this.homePage:t}else a=this.getCurrentUrl();this.selectedIndex=this.getSelectedIndex(this.getOriginUrl(a))},this.setTabBarBadgeHandler=({"index":t,"text":e,"errorHandler":a})=>{t in this.list?(this.list[t].showRedDot=!1,this.list[t].badgeText=e):a({"errMsg":"setTabBarBadge:fail tabbar item not found"})},this.removeTabBarBadgeHandler=({"index":t,"successHandler":e,"errorHandler":a})=>{t in this.list?(this.list[t].badgeText=null,this.list[t].badgeText=null,e({"errMsg":"removeTabBarBadge:ok"})):a({"errMsg":"removeTabBarBadge:fail tabbar item not found"})},this.showTabBarRedDotHandler=({"index":t,"successHandler":e,"errorHandler":a})=>{const r=this.list;t in r?(r[t].badgeText=null,r[t].showRedDot=!0,e({"errMsg":"showTabBarRedDot:ok"})):a({"errMsg":"showTabBarRedDot:fail tabbar item not found"})},this.hideTabBarRedDotHandler=({"index":t,"successHandler":e,"errorHandler":a})=>{const r=this.list;t in r?(r[t].showRedDot=!1,e({"errMsg":"hideTabBarRedDot:ok"})):a({"errMsg":"hideTabBarRedDot:fail tabbar item not found"})},this.showTabBarHandler=({"successHandler":t})=>{this.status=0,t({"errMsg":"showTabBar:ok"})},this.hideTabBarHandler=({"animation":t,"successHandler":e})=>{this.status=t?2:1,e({"errMsg":"hideTabBar:ok"})};const e=this.conf.list,a=this.conf.customRoutes;if("[object Array]"!==Object.prototype.toString.call(e)||e.length<2||e.length>5)throw new Error("tabBar 配置错误");this.homePage=addLeadingSlash(this.conf.homePage);for(const t in a)this.customRoutes.push([t,a[t]]);e.forEach(t=>{0!==t.pagePath.indexOf("/")&&(t.pagePath="/"+t.pagePath)}),this.list=e}"getCurrentUrl"(){const t=this.conf.mode,e=this.conf.basename||"/";let a;if("hash"===t){const t=window.location.href,e=t.indexOf("#");a=-1===e?"":t.substring(e+1)}else a=location.pathname;const r=addLeadingSlash(stripBasename(a,e));return"/"===r?this.homePage:r}"bindEvent"(){s.eventCenter.on("__taroRouterChange",this.routerChangeHandler),s.eventCenter.on("__taroSwitchTab",this.switchTabHandler),s.eventCenter.on("__taroSetTabBarBadge",this.setTabBarBadgeHandler),s.eventCenter.on("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),s.eventCenter.on("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),s.eventCenter.on("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),s.eventCenter.on("__taroShowTabBar",this.showTabBarHandler),s.eventCenter.on("__taroHideTabBar",this.hideTabBarHandler)}"removeEvent"(){s.eventCenter.off("__taroRouterChange",this.routerChangeHandler),s.eventCenter.off("__taroSwitchTab",this.switchTabHandler),s.eventCenter.off("__taroSetTabBarBadge",this.setTabBarBadgeHandler),s.eventCenter.off("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),s.eventCenter.off("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),s.eventCenter.off("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),s.eventCenter.off("__taroShowTabBar",this.showTabBarHandler),s.eventCenter.off("__taroHideTabBar",this.hideTabBarHandler)}"componentDidLoad"(){this.tabbarPos=this.tabbar.nextElementSibling?"top":"bottom",this.bindEvent(),this.routerChangeHandler()}"disconnectedCallback"(){this.removeEvent()}"render"(){const{"conf":t,"tabbarPos":e="bottom"}=this,a=this.status,s=Object(o.a)("weui-tabbar",{["taro-tabbar__border-"+(t.borderStyle||"black")]:!0}),n=-1===this.selectedIndex||1===a,i=2===a;return Object(r.e)(r.a,{"class":Object(o.a)("taro-tabbar__tabbar","taro-tabbar__tabbar-"+e,{"taro-tabbar__tabbar-hide":n,"taro-tabbar__tabbar-slideout":i})},Object(r.e)("div",{"class":s,"style":{"backgroundColor":t.backgroundColor||""}},this.list.map((e,a)=>{const o=this.selectedIndex===a;let s,n;return o?(s=t.selectedColor,n=e.selectedIconPath):(s=t.color||"",n=e.iconPath),Object(r.e)(TabbarItem,{"index":a,"onSelect":this.switchTab.bind(this),"isSelected":o,"textColor":s,"iconPath":n,"text":e.text,"badgeText":e.badgeText,"showRedDot":e.showRedDot})})))}get"tabbar"(){return Object(r.d)(this)}};n.style="html,body{height:100%}#app{height:100%}.taro-tabbar__border-white::before{border-top-color:#fff !important}.taro-tabbar__container{display:flex;height:100%;flex-direction:column;overflow:hidden}.taro-tabbar__panel{flex:1;position:relative;overflow:auto;-webkit-overflow-scrolling:touch}.taro-tabbar__tabbar{position:relative;height:50px;width:100%;transition:bottom 0.2s, top 0.2s}.taro-tabbar__tabbar-top{top:0}.taro-tabbar__tabbar-bottom{bottom:0}.taro-tabbar__tabbar-hide{display:none}.taro-tabbar__tabbar-slideout{top:-52px;flex:0 0}.taro-tabbar__panel+.taro-tabbar__tabbar-slideout{top:auto;bottom:-52px}"},"112":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var r=function createCommonjsModule(t,e,a){return t(a={"path":e,"exports":{},"require":function(t,e){return function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},a.exports),a.exports}((function(t){!function(){var e={}.hasOwnProperty;function classNames(){for(var t=[],a=0;a<arguments.length;a++){var r=arguments[a];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)){if(r.length){var s=classNames.apply(null,r);s&&t.push(s)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var n in r)e.call(r,n)&&r[n]&&t.push(n);else t.push(r.toString())}}return t.join(" ")}t.exports?(classNames.default=classNames,t.exports=classNames):window.classNames=classNames}()}))}}]);